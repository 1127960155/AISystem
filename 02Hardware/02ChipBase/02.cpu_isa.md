# CPU 指令集架构

我们知道，计算机指令是指挥机器工作的指示和命令，程序就是一系列指令按照顺序排列的集合，执行程序的过程就是计算机的工作过程。从微观上看，我们输入指令的时候，计算机会将指令转换成二进制码存储在存储单元里面，然后在即将执行的时候拿出来。那么计算机是怎么知道我们输入的是什么指令，指令要怎么执行呢？

这就要提到ISA也就是指令集架构，本节内容主要围绕CPU的指令集架构ISA展开，学习CISC架构与RISC架构并并对比两种架构的优劣势，进而介绍相关的应用场景。

## ISA指令集架构

通常用来区分 CPU 的标准是指令集架构（instruction set architecture，ISA），简称ISA。ISA是处理器支持的所有指令的语义，包括指令本身及其操作数的语义，以及与外围设备的接口。就像任何语言都有有限的单词一样，处理器可以支持的基本指令/基本命令的数量也必须是有限的，这组指令通常称为指令集（instruction set），基本指令的一些示例是加法、减法、乘法、逻辑或和逻辑非。开发人员基于指令集架构（ISA），使用不同的处理器硬件实现方案，来设计不同性能的处理器，因此 ISA 又被视作 CPU 的灵魂。

指令集架构是软件感知硬件的方式，我们可以将其视为硬件输出到外部世界的基本功能列表。Intel和AMD CPU使用x86指令集，IBM处理器使用PowerPC R指令集，HP处理器使用PA-RISC指令集，ARM处理器使用ARMR指令集（或其变体，如Thumb-1和Thumb-2）。因此，不可能在基于ARM的系统上运行为Intel系统编译的二进制文件，因为指令集不兼容，但在大多数情况下，可以重用C/C++程序。要在特定架构上运行C/C++程序，我们需要为该特定架构购买一个编译器，然后适当地编译C/C++程序。

接下来我们把ISA其中的一个指令拿出来详细看看指令的组成，如下图所示是一个MIPS指令，这是一种采取精简指令集（RISC）的处理器架构，1981年出现，由MIPS科技公司开发并授权，广泛被使用在许多电子产品、网络设备、个人娱乐设备与商业设备上。最早的MIPS架构是32位，最新的版本已经变成64位。这条指令共分为两个部分，首先左边的第一个部分就是运算符， 需要告诉我们它的Op Code是多少，对应了不同的运算符也就是不同的操作，图中是以“加法”为例。之后右边三个部分对应着的是我们的操作对象，其中一共有三个参数分别是：目的操作数Addr1、原操作数Addr2以及立即数imediate Value。指令的含义也就是将立即数与原操作数相加存储到目的操作数之中。

  ![ISA](images/cpu/ISA03.png)

对于指令集的分类主要有三种，分别是：


## CPU的应用场景

## 总结

## 本节视频

<html>
<iframe src="https://player.bilibili.com/player.html?aid=396874348&bvid=BV1ro4y1W7xN&cid=1101969636&page=1&as_wide=1&high_quality=1&danmaku=0&t=30&autoplay=0" width="100%" height="500" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
</html>
